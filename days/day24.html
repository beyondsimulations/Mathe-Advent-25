<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Tag 24: Heiligabend - Die gro√üe Synthese ‚Äì Mathe Advent 2025</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-46d4eb725d7d2b8695ccd307f5b3c105.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-197188da37a79cb9418c4f38e6d23e8d.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-46d4eb725d7d2b8695ccd307f5b3c105.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-c23ee77ced6176904ed42b7e65e05430.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-831bd35c6148e3839f9c4c3df843fa91.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-c23ee77ced6176904ed42b7e65e05430.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script defer="" src="https://umi.byndsim.com/script.js" data-website-id="e230d76b-b0a6-477e-8c5d-19a7bd661e68"></script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../advent.css">
<link rel="stylesheet" href="../quiz.css">
</head>

<body class="quarto-light">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#der-letzte-tag" id="toc-der-letzte-tag" class="nav-link active" data-scroll-target="#der-letzte-tag">Der letzte Tag</a>
  <ul class="collapse">
  <li><a href="#ort-hamburger-rathaus---gro√üer-saal" id="toc-ort-hamburger-rathaus---gro√üer-saal" class="nav-link" data-scroll-target="#ort-hamburger-rathaus---gro√üer-saal">Ort: Hamburger Rathaus - Gro√üer Saal</a></li>
  </ul></li>
  <li><a href="#die-gro√üe-weihnachtssynthese" id="toc-die-gro√üe-weihnachtssynthese" class="nav-link" data-scroll-target="#die-gro√üe-weihnachtssynthese">Die gro√üe Weihnachtssynthese</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Tag 24: Heiligabend - Die gro√üe Synthese</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="der-letzte-tag" class="level2">
<h2 class="anchored" data-anchor-id="der-letzte-tag">Der letzte Tag</h2>
<section id="ort-hamburger-rathaus---gro√üer-saal" class="level3">
<h3 class="anchored" data-anchor-id="ort-hamburger-rathaus---gro√üer-saal">Ort: Hamburger Rathaus - Gro√üer Saal</h3>
<p><strong>24. Dezember. Heiligabend.</strong></p>
<p>Der Gro√üe Saal des Hamburger Rathauses ist gef√ºllt. Stadtr√§te, Wirtschaftsf√ºhrer, Weihnachtsmarkth√§ndler, Lehrer und Dutzende von Hamburger Einwohnern, die diese mathematische Reise verfolgt haben.</p>
<p>Im Zentrum des Saals steht der Grinch‚Äîin einem formellen Anzug, zum ersten Mal seit Beginn nerv√∂s aussehend.</p>
<p>Stadtrat Fischer spricht zur Versammlung:</p>
<p><em>‚ÄûVor dreiundzwanzig Tagen wurde Hamburgs Weihnachten abgesagt. Hinter mathematischer Sicherheit gesperrt. Als wirtschaftlich nicht tragf√§hig eingestuft. Ins Nichts hinein optimiert.</em></p>
<p><em>Aber diese Sch√ºler haben jede Gleichung gel√∂st. Jedes System geknackt. Jedes Wirtschaftsmodell bewiesen. Jedes St√ºck Infrastruktur wiederhergestellt.</em></p>
<p><em>Heute, an Heiligabend, versammeln wir uns f√ºr die letzte Herausforderung.‚Äù</em></p>
<p>Der Grinch tritt vor:</p>
<blockquote class="blockquote">
<p><strong>FINALE ANSPRACHE - G. RINCH</strong></p>
<p>‚ÄûGuten Tag, Hamburg.</p>
<p>Hier geht es nicht darum, noch ein System zu entsperren. Jedes System ist bereits entsperrt. Hier geht es darum, zu beweisen, dass ihr Mathematik tief genug VERSTEHT, damit Hamburg diese Systeme warten kann, nachdem ich weg bin.</p>
<p>Denn ich gehe. Nach heute wird GrinchTech Industries alles geistige Eigentum, alle Systeme, alle Kontrollen an die Stadt Hamburg √ºbertragen. Frei und klar.</p>
<p>Aber ich muss wissen, dass Hamburg in f√§higen H√§nden ist.</p>
<p>F√ºnf Aufgaben. Polynomanalyse. Rationale Funktionen. Transformationen. Multi-Konzept-Verifikation. Umkehroperationen.</p>
<p>L√∂st diese Synthese, und ich wei√ü, dass ihr bereit seid.</p>
<p>Lasst uns beginnen.‚Äù</p>
<p>‚Äì G. Rinch</p>
</blockquote>
</section>
</section>
<section id="die-gro√üe-weihnachtssynthese" class="level2">
<h2 class="anchored" data-anchor-id="die-gro√üe-weihnachtssynthese">Die gro√üe Weihnachtssynthese</h2>
<div class="scenario-block">
<p>F√ºnf verbundene Aufgaben, die umfassende mathematische Beherrschung testen.</p>
<p><strong>Finale Aufgabe 1: ‚ÄûDie Produktionsverifikation‚Äù</strong></p>
<p>Hamburgs Spielzeugproduktion folgt:</p>
<p><span class="math display">\[P(x) = -2x^3 + 27x^2 - 84x + 80\]</span></p>
<p>wobei <span class="math inline">\(x\)</span> das Effizienzniveau (Skala 1-8) und <span class="math inline">\(P\)</span> Hunderte von Geschenken ist.</p>
<p>Gegeben: <span class="math inline">\(P(5) = 85\)</span> und <span class="math inline">\(P(6) = 116\)</span>.</p>
<blockquote class="blockquote">
<p><strong>Grinchs Hinweis:</strong> ‚ÄûWenn <span class="math inline">\(P\)</span> eine stetige Funktion ist und unser Ziel 100 zwischen <span class="math inline">\(P(5) = 85\)</span> und <span class="math inline">\(P(6) = 116\)</span> liegt, dann muss es irgendwo zwischen 5 und 6 einen Wert geben, wo <span class="math inline">\(P(x) = 100\)</span> ist.‚Äù</p>
</blockquote>
<p><strong>Liegt der Zielwert 100 (10.000 Geschenke) zwischen den Werten <span class="math inline">\(P(5)\)</span> und <span class="math inline">\(P(6)\)</span>?</strong></p>
<div class="puzzle-box">
<div class="quiz-options">
<p><button class="quiz-option" data-correct="true"> Ja, 100 liegt zwischen 85 und 116 </button> <button class="quiz-option" data-correct="false"> Nein, wir m√ºssen den genauen Wert finden </button> <button class="quiz-option" data-correct="false"> Nein, beide Werte sind gr√∂√üer als 100 </button> <button class="quiz-option" data-correct="false"> Kann aus diesen Informationen nicht bestimmt werden </button></p>
</div>
<div class="quiz-actions">
<p class="quiz-feedback">
</p>
<p><button class="quiz-submit" disabled="">Produktionsziel verifizieren</button></p>
</div>
</div>
<p><strong>Finale Aufgabe 2: ‚ÄûDie asymptotische Grenze‚Äù</strong></p>
<p>Ein Kekshersteller hat durchschnittliche Kosten:</p>
<p><span class="math display">\[AC(x) = \frac{200 + 3x^2}{x} = \frac{200}{x} + 3x\]</span></p>
<blockquote class="blockquote">
<p><strong>Grinchs Hinweis:</strong> ‚ÄûWenn <span class="math inline">\(x \to \infty\)</span>: der erste Term verschwindet, aber der zweite Term w√§chst ohne Grenze. Das repr√§sentiert Skaleneffekte bei hoher Produktion.‚Äù</p>
</blockquote>
<p><strong>Was passiert mit <span class="math inline">\(AC(x)\)</span> wenn <span class="math inline">\(x \to \infty\)</span>?</strong></p>
<div class="puzzle-box">
<div class="quiz-options">
<p><button class="quiz-option" data-correct="false"> N√§hert sich 0 </button> <button class="quiz-option" data-correct="false"> N√§hert sich 200 </button> <button class="quiz-option" data-correct="false"> N√§hert sich 3 </button> <button class="quiz-option" data-correct="true"> N√§hert sich unendlich </button></p>
</div>
<div class="quiz-actions">
<p class="quiz-feedback">
</p>
<p><button class="quiz-submit" disabled="">Kostenverhalten analysieren</button></p>
</div>
</div>
<p><strong>Finale Aufgabe 3: ‚ÄûDie Transformationsumkehrung‚Äù</strong></p>
<p>Der Grinch hat Hamburgs Weihnachtsstimmung von <span class="math inline">\(f(x) = 2^x\)</span> unterdr√ºckt, indem er drei Transformationen verwendet hat:</p>
<ol type="1">
<li>Spiegelung an der x-Achse: mit -1 multiplizieren</li>
<li>Vertikale Stauchung um 1/2: mit 1/2 multiplizieren</li>
<li>Verschiebung um 3 nach unten: 3 subtrahieren</li>
</ol>
<blockquote class="blockquote">
<p><strong>Grinchs Hinweis:</strong> ‚ÄûDie Reihenfolge ist wichtig. Wendet diese nacheinander an: <span class="math inline">\(-1 \cdot \frac{1}{2} \cdot 2^x - 3 = -\frac{1}{2} \cdot 2^x - 3\)</span>‚Äù</p>
</blockquote>
<p><strong>Wie lautet die transformierte Funktion <span class="math inline">\(g(x)\)</span>?</strong></p>
<div class="puzzle-box">
<div class="quiz-options">
<p><button class="quiz-option" data-correct="false"> <span class="math inline">\(g(x) = 2^{-x/2} - 3\)</span> </button> <button class="quiz-option" data-correct="true"> <span class="math inline">\(g(x) = -\frac{1}{2} \cdot 2^x - 3\)</span> </button> <button class="quiz-option" data-correct="false"> <span class="math inline">\(g(x) = \frac{1}{2} \cdot 2^{-x} - 3\)</span> </button> <button class="quiz-option" data-correct="false"> <span class="math inline">\(g(x) = -2 \cdot 2^x - 3\)</span> </button></p>
</div>
<div class="quiz-actions">
<p class="quiz-feedback">
</p>
<p><button class="quiz-submit" disabled="">Unterdr√ºckung identifizieren</button></p>
</div>
</div>
<p><strong>Finale Aufgabe 4: ‚ÄûDer Hauptschl√ºssel‚Äù</strong></p>
<p>Der finale √úbertragungscode <span class="math inline">\(k\)</span> muss ALLE Bedingungen erf√ºllen:</p>
<ul>
<li><span class="math inline">\(2^k = 32\)</span> (exponentiell)</li>
<li><span class="math inline">\(k = \log_2(32)\)</span> (logarithmisch)</li>
<li><span class="math inline">\(k\)</span> entspricht der x-Koordinate der L√ºcke in <span class="math inline">\(r(x) = \frac{x^2 - 25}{x - 5}\)</span></li>
</ul>
<blockquote class="blockquote">
<p><strong>Grinchs Hinweis:</strong> ‚ÄûAlle drei Bedingungen zeigen auf dieselbe Zahl. Findet sie.‚Äù</p>
</blockquote>
<p><strong>Wie lautet der Hauptschl√ºssel <span class="math inline">\(k\)</span>?</strong></p>
<div class="puzzle-box">
<p><strong>Gebt k ein:</strong> <input class="quiz-input" placeholder="k = ?"></p>
<div class="quiz-actions">
<p class="quiz-feedback">
</p>
<p><button class="quiz-submit" disabled="" data-answer="5">Hauptschl√ºssel eingeben</button></p>
</div>
</div>
<div class="revealed-text">
<section id="die-aufl√∂sung" class="level3">
<h3 class="anchored" data-anchor-id="die-aufl√∂sung">Die Aufl√∂sung</h3>
<p>Der Gro√üe Saal ist still, als ihr die finale Antwort pr√§sentiert: <strong>k = 5</strong>.</p>
<p>Der Grinch geht zum Hauptkontrollterminal und gibt den Code ein.</p>
<p><strong>VERIFIKATION ABGESCHLOSSEN</strong></p>
<p><strong>HAUPTSCHL√úSSEL AKZEPTIERT</strong></p>
<p><strong>INITIIERE VOLLST√ÑNDIGE SYSTEM√úBERTRAGUNG AN DIE STADT HAMBURG</strong></p>
<p>Die Bildschirme im gesamten Saal zeigen kaskadierende gr√ºne Best√§tigungen:</p>
<ul>
<li>Lagerhaussysteme ‚Üí √úBERTRAGEN</li>
<li>Lieferkette ‚Üí √úBERTRAGEN</li>
<li>Marktkontrollen ‚Üí √úBERTRAGEN</li>
<li>Beleuchtungsnetz ‚Üí √úBERTRAGEN</li>
<li>√úberwachungsnetzwerk ‚Üí √úBERTRAGEN</li>
<li>Gesamtes GrinchTech-IP ‚Üí √úBERTRAGEN</li>
</ul>
<p><strong>√úBERTRAGUNG ABGESCHLOSSEN</strong></p>
<p><strong>GRINCHTECH-OPTIMIERUNGSPROTOKOLL: BEENDET</strong></p>
<p><strong>HAMBURGER WEIHNACHTEN: DAUERHAFT GESICHERT</strong></p>
<p>Der Grinch dreht sich zur Versammlung. Seine Stimme ist leise, aber sie tr√§gt:</p>
<blockquote class="blockquote">
<p><strong>LETZTE WORTE - G. RINCH</strong></p>
<p>‚ÄûIch lag falsch.</p>
<p>Ich dachte, ich w√ºrde optimieren. Ich dachte, ich w√ºrde Ineffizienzen beheben, rationale Analyse auf eine irrationale Tradition anwenden.</p>
<p>Aber ich war derjenige, der Fehler machte. Mathematische Fehler. Wirtschaftliche Fehler. Und am wichtigsten‚Äîmenschliche Fehler.</p>
<p>Ich habe kurzfristige Daten mit langfristigem Potenzial verglichen. Ich habe Effizienz √ºber Freude gestellt. Ich habe Geist ins Nichts hinein optimiert.</p>
<p>Hamburg, euer Weihnachten geh√∂rt wieder euch. F√ºr immer.</p>
<p>Und ich‚Ä¶ ich muss √ºberdenken, was Optimierung wirklich bedeutet.</p>
<p>Danke f√ºr die Lektion.‚Äù</p>
<p>‚Äì G. Rinch</p>
</blockquote>
<p>Vor dem Rathaus feiert Hamburg. Die Weihnachtsm√§rkte leuchten. Musik erf√ºllt die Luft. Die mechanische Pyramide dreht sich perfekt. Kinder laufen durch die Lichter.</p>
<p>Und irgendwo in der Menge entdeckt ihr eine vertraute Gestalt in einem schwarzen Rollkragenpullover, die die Feier mit etwas beobachtet, das ein echtes L√§cheln sein k√∂nnte.</p>
<hr>
</section>
<section id="epilog" class="level2">
<h2 class="anchored" data-anchor-id="epilog">Epilog</h2>
<p>Sp√§ter an diesem Abend erhaltet ihr eine letzte Nachricht:</p>
<blockquote class="blockquote">
<p><strong>AN:</strong> Mathematische Pr√ºfer von Hamburg</p>
<p><strong>VON:</strong> G. Rinch</p>
<p><strong>BETR:</strong> Letzte Gedanken</p>
<p>Ich verlasse Hamburg. GrinchTech Industries ist aufgel√∂st. Aber ich m√∂chte, dass ihr wisst:</p>
<p>Ich beginne etwas Neues‚ÄîOptimierung f√ºr Katastrophenhilfe, Ressourcenverteilung in Krisensituationen, mathematische Modellierung f√ºr humanit√§re Hilfe. Orte, an denen Optimierung tats√§chlich Leben rettet, anstatt Freude zu zerst√∂ren.</p>
<p>Vielleicht kann ich Mathematik so verwenden, wie sie verwendet werden sollte.</p>
<p>Danke f√ºr die Lektion.</p>
<p>Und Frohe Weihnachten.</p>
<p>‚Äì G. Rinch</p>
</blockquote>
<p>Ihr schlie√üt die Nachricht und blickt √ºber Hamburg‚Äîeine Stadt, die von Weihnachtslichtern leuchtet, lebendig vor Feier.</p>
<p><strong>MISSION ABGESCHLOSSEN</strong></p>
<hr>
</section>
<section id="herzlichen-gl√ºckwunsch" class="level2">
<h2 class="anchored" data-anchor-id="herzlichen-gl√ºckwunsch">Herzlichen Gl√ºckwunsch!</h2>
<p>Ihr habt alle 24 Tage des Mathematischen Adventskalenders erfolgreich abgeschlossen!</p>
<p><strong>Hamburgs Weihnachten: GERETTET</strong></p>
<p><strong>Frohe Weihnachten von J√ºrgen Pape!</strong></p>
<hr>
<p><em>‚ÄûDer beste Weg, Weihnachtsstimmung zu verbreiten, ist Gleichungen f√ºr alle zu l√∂sen.‚Äù</em></p>
<p><em>‚Äì Buddy der Elf (Abteilung f√ºr Mathematische Wissenschaften)</em></p>
<p><a href="../index.html"><strong>Zur√ºck zum Kalender</strong></a></p>
</section>
</div>
</div>


</section>

</main> <!-- /main -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        console.log("üéÑ Math Advent Calendar Script Loaded üéÑ");

        // ==========================================
        // PART 1: CALENDAR DOOR LOCKING LOGIC
        // ==========================================

        const targetYear = 2025;
        const debugMode = false; // Set to true to unlock everything for testing

        const now = new Date();
        const currentYear = now.getFullYear();
        const currentMonth = now.getMonth();
        const currentDay = now.getDate();

        const doors = document.querySelectorAll(".door");

        if (doors.length > 0) {
            doors.forEach((door) => {
                let dayNumber = parseInt(
                    door.getAttribute("data-day") || door.innerText,
                );
                let isLocked = false;

                if (!debugMode) {
                    if (currentYear < targetYear) isLocked = true;
                    else if (currentYear === targetYear && currentMonth < 11)
                        isLocked = true;
                    else if (
                        currentYear === targetYear &&
                        currentMonth === 11 &&
                        dayNumber > currentDay
                    )
                        isLocked = true;
                }

                if (isLocked) {
                    door.classList.add("future");
                    door.removeAttribute("href");
                    door.style.cursor = "not-allowed";
                    door.onclick = (e) => {
                        e.preventDefault();
                        alert(`Noch nicht! Komm am ${dayNumber}. Dezember wieder.`);
                    };
                } else {
                    if (
                        dayNumber === currentDay &&
                        currentMonth === 11 &&
                        currentYear === targetYear
                    ) {
                        door.classList.add("today");
                    } else {
                        door.classList.add("past");
                    }
                }
            });
        }

        // ==========================================
        // PART 2: MULTI-LOCK QUIZ & INPUT LOGIC
        // ==========================================

        const scenarios = document.querySelectorAll(".scenario-block");

        scenarios.forEach((scenario) => {
            const hiddenText = scenario.querySelector(".revealed-text");
            const boxes = scenario.querySelectorAll(".puzzle-box");

            // We keep track of how many boxes are solved
            const totalRequired = boxes.length;

            boxes.forEach((box) => {
                const options = box.querySelectorAll(".quiz-option");
                const inputField = box.querySelector(".quiz-input");
                const submitBtn = box.querySelector(".quiz-submit");
                const feedback = box.querySelector(".quiz-feedback");

                let selectedBtn = null;

                // --- LOGIC A: BUTTONS (Multiple Choice) ---
                if (options.length > 0) {
                    options.forEach((opt) => {
                        opt.addEventListener("click", function () {
                            if (submitBtn.style.display === "none") return; // Already solved
                            if (this.disabled) return; // Penalty active

                            // Visual selection
                            options.forEach((o) =>
                                o.classList.remove("selected"),
                            );
                            this.classList.add("selected");
                            selectedBtn = this;

                            submitBtn.disabled = false;
                        });
                    });
                }

                // --- LOGIC B: INPUT FIELD (Type Answer) ---
                if (inputField) {
                    inputField.addEventListener("input", function () {
                        if (submitBtn.style.display === "none") return;

                        // Enable button only if text is typed
                        if (this.value.trim().length > 0) {
                            submitBtn.disabled = false;
                        } else {
                            submitBtn.disabled = true;
                        }
                    });

                    // Allow pressing "Enter"
                    inputField.addEventListener("keypress", function (event) {
                        if (event.key === "Enter" && !submitBtn.disabled) {
                            submitBtn.click();
                        }
                    });
                }

                // --- SUBMISSION HANDLER ---
                if (submitBtn) {
                    submitBtn.addEventListener("click", function () {
                        let isCorrect = false;

                        // Check MCQ
                        if (selectedBtn) {
                            isCorrect =
                                selectedBtn.getAttribute("data-correct") ===
                                "true";
                        }
                        // Check Input (Case Insensitive)
                        else if (inputField) {
                            const rawUser = inputField.value
                                .trim()
                                .toLowerCase();
                            const rawCorrect = submitBtn
                                .getAttribute("data-answer")
                                .toLowerCase();
                            isCorrect = rawUser === rawCorrect;
                        }

                        if (isCorrect) {
                            // === SUCCESS ===
                            box.classList.add("solved");

                            if (selectedBtn) {
                                selectedBtn.classList.remove("selected");
                                selectedBtn.classList.add("correct");
                                selectedBtn.innerHTML = selectedBtn.innerHTML;
                            } else if (inputField) {
                                inputField.classList.add("correct");
                                inputField.disabled = true;
                            }

                            feedback.classList.add("success");
                            feedback.innerText = "Richtig!";

                            // Hide submit button
                            submitBtn.style.display = "none";

                            // Lock options
                            if (options)
                                options.forEach((o) => (o.disabled = true));

                            // Check if ALL boxes in this scenario are done
                            checkAllSolved();
                        } else {
                            // === FAILURE ===

                            // Identify element to Shake
                            const errorEl = selectedBtn || inputField;

                            if (errorEl) {
                                if (selectedBtn)
                                    selectedBtn.classList.remove("selected");
                                errorEl.classList.add("wrong");
                                errorEl.classList.add("shake");

                                // Remove shake after animation (0.5s)
                                setTimeout(() => {
                                    errorEl.classList.remove("shake");
                                }, 500);
                            }

                            // Penalty Timer
                            startPenaltyTimer(10);
                        }
                    });
                }

                // --- HELPER: PENALTY TIMER ---
                function startPenaltyTimer(seconds) {
                    if (options) options.forEach((o) => (o.disabled = true));
                    if (inputField) inputField.disabled = true;
                    submitBtn.disabled = true;

                    let timeLeft = seconds;
                    feedback.style.color = "#db6b6b"; // Error Red
                    feedback.innerText = `Falsch. Warte ${timeLeft}s...`;

                    const timer = setInterval(() => {
                        timeLeft--;
                        feedback.innerText = `Falsch. Warte ${timeLeft}s...`;
                        if (timeLeft <= 0) {
                            clearInterval(timer);
                            resetState();
                        }
                    }, 1000);
                }

                // --- HELPER: RESET AFTER PENALTY ---
                function resetState() {
                    feedback.innerText = "";

                    if (options)
                        options.forEach((o) => {
                            o.disabled = false;
                        });

                    if (inputField) {
                        inputField.disabled = false;
                        inputField.focus();
                        inputField.classList.remove("wrong");
                    }

                    submitBtn.disabled = true;
                    selectedBtn = null;
                }
            });

            // --- HELPER: GLOBAL CHECK ---
            function checkAllSolved() {
                const currentSolved =
                    scenario.querySelectorAll(".puzzle-box.solved").length;

                if (currentSolved === totalRequired) {
                    if (hiddenText) {
                        hiddenText.style.display = "block";
                        // Gentle fade in logic is handled by CSS animation 'fadeText'
                    }
                }
            }
        });
    });
</script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/beyondsimulations\.github\.io\/Mathe-Advent-25");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/beyondsimulations/Mathe-Advent-25">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://linkedin.com/in/tobiasvlcek">
      <i class="bi bi-linkedin" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="mailto:vlcek@beyondsimulations.com">
      <i class="bi bi-envelope" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://beyondsimulations.github.io/lectures">
      <i class="bi bi-skip-backward" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="../general/imprint.qmd">
      <i class="bi bi-info-circle" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>   
    <div class="nav-footer-center">
<p>Mathe Advent 2025, Tobias Vlƒáek <br> MIT License</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>